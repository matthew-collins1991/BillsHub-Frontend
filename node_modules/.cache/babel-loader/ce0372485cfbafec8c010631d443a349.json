{"ast":null,"code":"import _toConsumableArray from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n// import { GetBillLabels } from \"./Labels\";\nexport var getTimeToNextBill = function getTimeToNextBill(date) {\n  var one_day = 1000 * 60 * 60 * 24;\n  var date1 = new Date(date);\n  var date2 = new Date();\n  var diff = date1.getTime() - date2.getTime();\n  return Math.ceil(diff / one_day);\n};\nexport var sortDatesLowToHigh = function sortDatesLowToHigh(a, b) {\n  a = new Date(a.bill_date);\n  b = new Date(b.bill_date);\n  return a < b ? -1 : a > b ? 1 : 0;\n};\nexport var sortDatesHighToLow = function sortDatesHighToLow(a, b) {\n  a = new Date(a.bill_date);\n  b = new Date(b.bill_date);\n  return a > b ? -1 : a < b ? 1 : 0;\n};\nexport var returnSeries = function returnSeries(data) {\n  var values = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n  data.map(function (bill) {\n    if (billDate.getFullYear() === yearInt) {\n      if (getTimeToNextBill(bill.bill_date) < 304) {\n        var _billDate = new Date(bill.bill_date);\n\n        var billMonthInt = _billDate.getMonth();\n\n        var today = new Date();\n\n        var _yearInt = today.getFullYear();\n\n        if (billMonthInt >= 6) {\n          return values[billMonthInt - 12 + 6] = values[billMonthInt - 12 + 6] + bill.cost;\n        } else {\n          return values[billMonthInt + 6] = values[billMonthInt + 6] + bill.cost;\n        }\n      }\n    }\n  });\n  var series = values.map(function (value) {\n    if (value === 0) {\n      return null;\n    } else if (isNaN(value)) {\n      return null;\n    } else {\n      return value;\n    }\n  });\n  return [series];\n};\nexport var GetMonthBillCostsAndLabels = function GetMonthBillCostsAndLabels(utilities) {\n  var costArray = [];\n  var billArray = [];\n  var today = new Date();\n  var monthInt = today.getMonth();\n  var yearInt = today.getFullYear(); // only select utilities that have a bill in current month\n\n  var filteredUtilities = utilities.filter(function (utility) {\n    return utility.bills.map(function (bill) {\n      return new Date(bill.bill_date).getMonth();\n    }).includes(monthInt);\n  });\n  filteredUtilities.map(function (utility) {\n    return utility.bills.map(function (bill) {\n      if (new Date(bill.bill_date).getMonth() === monthInt && new Date(bill.bill_date).getFullYear() === yearInt) {\n        bill.utility_type = utility.utility_type;\n        billArray = [].concat(_toConsumableArray(billArray), [bill]);\n      }\n    });\n  }); // pull out the duplicate utility IDs and add together the cost\n\n  billArray.forEach(function (a) {\n    if (!this[a.utility_id]) {\n      this[a.utility_id] = {\n        utility_id: a.utility_id,\n        utility_type: a.utility_type,\n        cost: 0\n      };\n      costArray.push(this[a.utility_id]);\n    }\n\n    this[a.utility_id].cost += a.cost;\n  }, Object.create(null));\n  return costArray;\n};\nexport var GetYearBillCostsAndLabels = function GetYearBillCostsAndLabels(utilities) {\n  var costArray = [];\n  var billArray = [];\n  var today = new Date();\n  var yearInt = today.getYear(); // only select utilities that have a bill in current month\n\n  var filteredUtilities = utilities.filter(function (utility) {\n    return utility.bills.map(function (bill) {\n      return new Date(bill.bill_date).getYear();\n    }).includes(yearInt);\n  });\n  filteredUtilities.map(function (utility) {\n    return utility.bills.map(function (bill) {\n      if (new Date(bill.bill_date).getYear() === yearInt) {\n        bill.utility_type = utility.utility_type;\n        billArray = [].concat(_toConsumableArray(billArray), [bill]);\n      }\n    });\n  }); // pull out the duplicate utility IDs and add together the cost\n\n  billArray.forEach(function (a) {\n    if (!this[a.utility_id]) {\n      this[a.utility_id] = {\n        utility_id: a.utility_id,\n        utility_type: a.utility_type,\n        cost: 0\n      };\n      costArray.push(this[a.utility_id]);\n    }\n\n    this[a.utility_id].cost = this[a.utility_id].cost + parseInt(a.cost);\n  }, Object.create(null));\n  return costArray;\n};\nexport var GetNextMonthBillCostsAndLabels = function GetNextMonthBillCostsAndLabels(utilities) {\n  var costArray = [];\n  var billArray = [];\n  var today = new Date();\n  var monthInt = today.getMonth() + 1;\n  var yearInt = today.getFullYear(); // only select utilities that have a bill in current month\n\n  var filteredUtilities = utilities.filter(function (utility) {\n    return utility.bills.map(function (bill) {\n      return new Date(bill.bill_date).getMonth();\n    }).includes(monthInt);\n  });\n  filteredUtilities.map(function (utility) {\n    return utility.bills.map(function (bill) {\n      if (new Date(bill.bill_date).getMonth() === monthInt && new Date(bill.bill_date).getFullYear() === yearInt) {\n        bill.utility_type = utility.utility_type;\n        billArray = [].concat(_toConsumableArray(billArray), [bill]);\n      }\n    });\n  }); // pull out the duplicate utility IDs and add together the cost\n\n  billArray.forEach(function (a) {\n    if (!this[a.utility_id]) {\n      this[a.utility_id] = {\n        utility_id: a.utility_id,\n        utility_type: a.utility_type,\n        cost: 0\n      };\n      costArray.push(this[a.utility_id]);\n    }\n\n    this[a.utility_id].cost += a.cost;\n  }, Object.create(null));\n  return costArray;\n};","map":{"version":3,"sources":["/Users/Matt/flatiron/mod-5/BillsHub-Frontend/src/variables/DateSort.jsx"],"names":["getTimeToNextBill","date","one_day","date1","Date","date2","diff","getTime","Math","ceil","sortDatesLowToHigh","a","b","bill_date","sortDatesHighToLow","returnSeries","data","values","map","bill","billDate","getFullYear","yearInt","billMonthInt","getMonth","today","cost","series","value","isNaN","GetMonthBillCostsAndLabels","utilities","costArray","billArray","monthInt","filteredUtilities","filter","utility","bills","includes","utility_type","forEach","utility_id","push","Object","create","GetYearBillCostsAndLabels","getYear","parseInt","GetNextMonthBillCostsAndLabels"],"mappings":"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","sourcesContent":["// import { GetBillLabels } from \"./Labels\";\n\nexport const getTimeToNextBill = date => {\n  let one_day = 1000 * 60 * 60 * 24;\n  let date1 = new Date(date);\n  let date2 = new Date();\n  let diff = date1.getTime() - date2.getTime();\n\n  return Math.ceil(diff / one_day);\n};\n\nexport const sortDatesLowToHigh = (a, b) => {\n  a = new Date(a.bill_date);\n  b = new Date(b.bill_date);\n  return a < b ? -1 : a > b ? 1 : 0;\n};\n\nexport const sortDatesHighToLow = (a, b) => {\n  a = new Date(a.bill_date);\n  b = new Date(b.bill_date);\n  return a > b ? -1 : a < b ? 1 : 0;\n};\n\nexport const returnSeries = data => {\n  let values = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n  data.map(bill => {\n    if (billDate.getFullYear() === yearInt) {\n    if (getTimeToNextBill(bill.bill_date) < 304) {\n      let billDate = new Date(bill.bill_date);\n      let billMonthInt = billDate.getMonth();\n      let today = new Date();\n      let yearInt = today.getFullYear();\n\n      \n      if (billMonthInt >= 6) {\n        return (values[billMonthInt - 12 + 6] =\n          values[billMonthInt - 12 + 6] + bill.cost);\n      } else {\n        return (values[billMonthInt + 6] =\n          values[billMonthInt + 6] + bill.cost);\n      }\n    }\n}\n  });\n\n  let series = values.map(value => {\n    if (value === 0) {\n      return null;\n    } else if (isNaN(value)) {\n      return null;\n    } else {\n      return value;\n    }\n  });\n\n  return [series];\n};\n\nexport const GetMonthBillCostsAndLabels = utilities => {\n  let costArray = [];\n  let billArray = [];\n  let today = new Date();\n  let monthInt = today.getMonth();\n  let yearInt = today.getFullYear();\n\n  // only select utilities that have a bill in current month\n  let filteredUtilities = utilities.filter(utility =>\n    utility.bills\n      .map(bill => new Date(bill.bill_date).getMonth())\n      .includes(monthInt)\n  );\n  filteredUtilities.map(utility =>\n    utility.bills.map(bill => {\n      if (\n        new Date(bill.bill_date).getMonth() === monthInt &&\n        new Date(bill.bill_date).getFullYear() === yearInt\n      ) {\n        bill.utility_type = utility.utility_type;\n        billArray = [...billArray, bill];\n      }\n    })\n  );\n\n  // pull out the duplicate utility IDs and add together the cost\n  billArray.forEach(function(a) {\n    if (!this[a.utility_id]) {\n      this[a.utility_id] = {\n        utility_id: a.utility_id,\n        utility_type: a.utility_type,\n        cost: 0\n      };\n      costArray.push(this[a.utility_id]);\n    }\n    this[a.utility_id].cost += a.cost;\n  }, Object.create(null));\n  return costArray;\n};\n\nexport const GetYearBillCostsAndLabels = utilities => {\n  let costArray = [];\n  let billArray = [];\n  let today = new Date();\n  let yearInt = today.getYear();\n\n  // only select utilities that have a bill in current month\n  let filteredUtilities = utilities.filter(utility =>\n    utility.bills\n      .map(bill => new Date(bill.bill_date).getYear())\n      .includes(yearInt)\n  );\n  filteredUtilities.map(utility =>\n    utility.bills.map(bill => {\n      if (new Date(bill.bill_date).getYear() === yearInt) {\n        bill.utility_type = utility.utility_type;\n        billArray = [...billArray, bill];\n      }\n    })\n  );\n\n  // pull out the duplicate utility IDs and add together the cost\n  billArray.forEach(function(a) {\n    if (!this[a.utility_id]) {\n      this[a.utility_id] = {\n        utility_id: a.utility_id,\n        utility_type: a.utility_type,\n        cost: 0\n      };\n\n      costArray.push(this[a.utility_id]);\n    }\n\n    this[a.utility_id].cost = this[a.utility_id].cost + parseInt(a.cost);\n  }, Object.create(null));\n  return costArray;\n};\n\nexport const GetNextMonthBillCostsAndLabels = utilities => {\n  let costArray = [];\n  let billArray = [];\n  let today = new Date();\n  let monthInt = today.getMonth() + 1;\n  let yearInt = today.getFullYear();\n\n  // only select utilities that have a bill in current month\n  let filteredUtilities = utilities.filter(utility =>\n    utility.bills\n      .map(bill => new Date(bill.bill_date).getMonth())\n      .includes(monthInt)\n  );\n  filteredUtilities.map(utility =>\n    utility.bills.map(bill => {\n      if (\n        new Date(bill.bill_date).getMonth() === monthInt &&\n        new Date(bill.bill_date).getFullYear() === yearInt\n      ) {\n        bill.utility_type = utility.utility_type;\n        billArray = [...billArray, bill];\n      }\n    })\n  );\n\n  // pull out the duplicate utility IDs and add together the cost\n  billArray.forEach(function(a) {\n    if (!this[a.utility_id]) {\n      this[a.utility_id] = {\n        utility_id: a.utility_id,\n        utility_type: a.utility_type,\n        cost: 0\n      };\n      costArray.push(this[a.utility_id]);\n    }\n    this[a.utility_id].cost += a.cost;\n  }, Object.create(null));\n\n  return costArray;\n};\n"]},"metadata":{},"sourceType":"module"}