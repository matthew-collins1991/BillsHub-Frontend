{"ast":null,"code":"import _toConsumableArray from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/src/views/Dashboard/Dashboard.jsx\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\"; // react plugin for creating charts\n\nimport ChartistGraph from \"react-chartist\"; // @material-ui/core\n\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Icon from \"@material-ui/core/Icon\";\nimport CardIcon from \"components/Card/CardIcon.jsx\"; // @material-ui/icons\n// import Store from \"@material-ui/icons/Store\";\n\nimport Warning from \"@material-ui/icons/Warning\"; // import DateRange from \"@material-ui/icons/DateRange\";\n// import LocalOffer from \"@material-ui/icons/LocalOffer\";\n\nimport Update from \"@material-ui/icons/Update\"; // import ArrowUpward from \"@material-ui/icons/ArrowUpward\";\n\nimport AccessTime from \"@material-ui/icons/AccessTime\"; // import Accessibility from \"@material-ui/icons/Accessibility\";\n\nimport BugReport from \"@material-ui/icons/BugReport\";\nimport Code from \"@material-ui/icons/Code\";\nimport Cloud from \"@material-ui/icons/Cloud\"; // core components\n\nimport GridItem from \"components/Grid/GridItem.jsx\";\nimport GridContainer from \"components/Grid/GridContainer.jsx\"; // import Danger from \"components/Typography/Danger.jsx\";\n\nimport Card from \"components/Card/Card.jsx\";\nimport CardHeader from \"components/Card/CardHeader.jsx\"; // import CardIcon from \"components/Card/CardIcon.jsx\";\n\nimport CardBody from \"components/Card/CardBody.jsx\";\nimport CardFooter from \"components/Card/CardFooter.jsx\";\nimport { GetMonthlyLabels, ThisMonth } from '../../variables/Labels';\nimport { returnSeries, GetMonthBillCostsAndLabels, GetYearBillCostsAndLabels, GetNextMonthBillCostsAndLabels } from '../../variables/DateSort';\nimport Timeline from \"@material-ui/icons/Timeline\";\nimport chartsStyle from \"assets/jss/material-dashboard-pro-react/views/chartsStyle.jsx\";\nimport \"assets/css/material-dashboard-pro-react.css\";\nimport { bugs, website, server } from \"variables/general.jsx\";\nimport dashboardStyle from \"assets/jss/material-dashboard-pro-react/views/dashboardStyle.jsx\";\n\nvar Chartist = require(\"chartist\");\n\nvar delays = 80,\n    durations = 500;\nvar delays2 = 80,\n    durations2 = 500;\n\nvar yearlyPieChart = function yearlyPieChart(that) {\n  return {\n    data: {\n      labels: that.props.userInfo.utilities && that.getYearlyBillLabels(),\n      series: that.props.userInfo.utilities && that.getYearlyBillCosts().flat()\n    },\n    options: {\n      height: \"400px\",\n      labelOffset: 80,\n      chartPadding: 60,\n      donut: true,\n      donutWidth: 60,\n      donutSolid: false,\n      startAngle: 270\n    }\n  };\n};\n\nvar monthlyPieChart = function monthlyPieChart(that) {\n  return {\n    data: {\n      labels: that.props.userInfo.utilities && that.getMonthlyBillLabels(),\n      series: that.props.userInfo.utilities && that.getMonthlyBillCosts().flat()\n    },\n    options: {\n      height: \"400px\",\n      labelOffset: 80,\n      chartPadding: 60,\n      donut: true,\n      donutWidth: 60,\n      donutSolid: false,\n      startAngle: 270\n    }\n  };\n};\n\nvar MonthlyBillChart = function MonthlyBillChart(that) {\n  return {\n    data: {\n      labels: GetMonthlyLabels(),\n      series: returnSeries(that.allBillsArray())\n    },\n    options: {\n      style: chartsStyle,\n      lineSmooth: Chartist.Interpolation.cardinal({\n        tension: 10\n      }),\n      chartPadding: {\n        top: 0,\n        right: 0,\n        bottom: 20,\n        left: 0\n      },\n      axisY: {\n        showGrid: true,\n        offset: 40\n      },\n      axisX: {\n        showGrid: false\n      },\n      low: that.minValue(),\n      high: that.maxValue(),\n      showPoint: true,\n      showArea: true\n    },\n    // for animation\n    animation: {\n      draw: function draw(data) {\n        if (data.type === \"line\" || data.type === \"area\") {\n          data.element.animate({\n            d: {\n              begin: 600,\n              dur: 700,\n              from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),\n              to: data.path.clone().stringify(),\n              easing: Chartist.Svg.Easing.easeOutQuint\n            }\n          });\n        } else if (data.type === \"point\") {\n          data.element.animate({\n            opacity: {\n              begin: (data.index + 1) * delays,\n              dur: durations,\n              from: 0,\n              to: 1,\n              easing: \"ease\"\n            }\n          });\n        }\n      }\n    }\n  };\n};\n\nvar MonthlyBillBarChart = function MonthlyBillBarChart(that) {\n  return {\n    data: {\n      labels: that.props.userInfo.utilities && that.getMonthlyBillLabels(),\n      series: that.props.userInfo.utilities && that.getMonthlyBillCosts()\n    },\n    options: {\n      // reverseData: true,\n      axisX: {\n        showGrid: false // offset: 70\n\n      },\n      chartPadding: {\n        top: 0,\n        right: 5,\n        bottom: 0,\n        left: 0\n      }\n    },\n    responsiveOptions: [[\"screen and (max-width: 640px)\", {\n      seriesBarDistance: 5,\n      axisX: {\n        labelInterpolationFnc: function labelInterpolationFnc(value) {\n          return value[0];\n        }\n      }\n    }]],\n    animation: {\n      draw: function draw(data) {\n        if (data.type === \"bar\") {\n          data.element.animate({\n            opacity: {\n              begin: (data.index + 1) * delays2,\n              dur: durations2,\n              from: 0,\n              to: 1,\n              easing: \"ease\"\n            }\n          });\n        }\n      }\n    }\n  };\n};\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Dashboard, _React$Component);\n\n  function Dashboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Dashboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      value: 0,\n      allBills: {}\n    };\n\n    _this.maxValue = function () {\n      var arr = returnSeries(_this.allBillsArray()).flat();\n      var max = Math.max.apply(Math, _toConsumableArray(arr));\n      return max + max * 0.2;\n    };\n\n    _this.minValue = function () {\n      var arr = returnSeries(_this.allBillsArray()).flat();\n      var min = Math.min.apply(Math, _toConsumableArray(arr));\n      return min - min * 0.5;\n    };\n\n    _this.allUtilitiesArray = function () {\n      var allUtilities = [];\n      _this.props.userInfo.utilities && _this.props.userInfo.utilities.map(function (utility) {\n        return allUtilities = [].concat(_toConsumableArray(allUtilities), [utility]);\n      });\n      return allUtilities;\n    };\n\n    _this.getMonthlyBillLabels = function () {\n      return GetMonthBillCostsAndLabels(_this.allUtilitiesArray()).map(function (bill) {\n        return bill.utility_type;\n      });\n    };\n\n    _this.getMonthlyBillCosts = function () {\n      return [GetMonthBillCostsAndLabels(_this.allUtilitiesArray()).map(function (bill) {\n        return bill.cost;\n      })];\n    };\n\n    _this.getYearlyBillLabels = function () {\n      return GetYearBillCostsAndLabels(_this.allUtilitiesArray()).map(function (bill) {\n        return bill.utility_type;\n      });\n    };\n\n    _this.getYearlyBillCosts = function () {\n      return [GetYearBillCostsAndLabels(_this.allUtilitiesArray()).map(function (bill) {\n        return bill.cost;\n      })];\n    };\n\n    _this.getTotalMonthlyOutgoings = function () {\n      var totalCost = 0;\n      GetMonthBillCostsAndLabels(_this.allUtilitiesArray()).map(function (bill) {\n        return totalCost = totalCost + bill.cost;\n      });\n      return parseFloat(Math.round(totalCost * 100) / 100).toFixed(2);\n    };\n\n    _this.getTotalNextMonthlyOutgoings = function () {\n      var totalCost = 0;\n      GetNextMonthBillCostsAndLabels(_this.allUtilitiesArray()).map(function (bill) {\n        return totalCost = totalCost + bill.cost;\n      });\n      return parseFloat(Math.round(totalCost * 100) / 100).toFixed(2);\n    };\n\n    _this.allBillsArray = function () {\n      var allBills = [];\n      _this.props.userInfo.utilities && _this.props.userInfo.utilities.map(function (utility) {\n        return utility.bills.map(function (bill) {\n          return allBills = [].concat(_toConsumableArray(allBills), [bill]);\n        });\n      });\n      return allBills;\n    };\n\n    _this.handleChange = function (event, value) {\n      _this.setState({\n        value: value\n      });\n    };\n\n    _this.handleChangeIndex = function (index) {\n      _this.setState({\n        value: index\n      });\n    };\n\n    _this.thisYear = function () {\n      var date = new Date();\n      var year = date.getFullYear();\n      return year;\n    };\n\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(GridContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(GridItem, {\n        xs: 12,\n        sm: 12,\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(Card, {\n        chart: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        color: \"success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(ChartistGraph, {\n        className: \"ct-chart\",\n        data: MonthlyBillChart(this).data,\n        type: \"Line\",\n        options: MonthlyBillChart(this).options,\n        listener: MonthlyBillChart(this).animation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      })), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: classes.cardTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, \"Yearly outgoings by month\")), React.createElement(CardFooter, {\n        chart: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.stats,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }))))), React.createElement(GridContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(GridItem, {\n        xs: 12,\n        sm: 12,\n        md: 4,\n        lg: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        color: \"warning\",\n        stats: true,\n        icon: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, React.createElement(CardIcon, {\n        color: \"warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, \"date_range\")), React.createElement(\"p\", {\n        className: classes.cardCategory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, \"Your total monthly outgoings for \", ThisMonth(), \":\"), React.createElement(\"h3\", {\n        className: classes.cardTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, \"\\xA3\", this.getTotalMonthlyOutgoings())), React.createElement(CardFooter, {\n        stats: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.stats,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(Warning, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, \"Your predicted outgoings for next month is \\xA3\", this.getTotalNextMonthlyOutgoings()))))), React.createElement(GridItem, {\n        xs: 12,\n        sm: 12,\n        md: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, React.createElement(Card, {\n        chart: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        color: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(ChartistGraph, {\n        className: \"ct-chart\",\n        data: MonthlyBillBarChart(this).data,\n        type: \"Bar\",\n        options: MonthlyBillBarChart(this).options,\n        responsiveOptions: MonthlyBillBarChart(this).responsiveOptions,\n        listener: MonthlyBillBarChart(this).animation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      })), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: classes.cardTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"Total payments by utility type for \", ThisMonth())), React.createElement(CardFooter, {\n        chart: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.stats,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, React.createElement(Update, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }), \" all values are in pounds(\\xA3)\"))))), React.createElement(GridContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, React.createElement(GridItem, {\n        xs: 12,\n        sm: 12,\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        color: \"danger\",\n        icon: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, React.createElement(CardIcon, {\n        color: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, React.createElement(Timeline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      })), React.createElement(\"h4\", {\n        className: classes.cardIconTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, \"Distribution of payments for \", ThisMonth(), \":\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, React.createElement(ChartistGraph, {\n        data: monthlyPieChart(this).data,\n        type: \"Pie\",\n        options: monthlyPieChart(this).options,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      })), React.createElement(CardFooter, {\n        chart: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.stats,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      })))), React.createElement(GridItem, {\n        xs: 12,\n        sm: 12,\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        color: \"danger\",\n        icon: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }, React.createElement(CardIcon, {\n        color: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      }, React.createElement(Timeline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      })), React.createElement(\"h4\", {\n        className: classes.cardIconTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, \"Distribution of payments for \", this.thisYear(), \":\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, React.createElement(ChartistGraph, {\n        data: yearlyPieChart(this).data,\n        type: \"Pie\",\n        options: yearlyPieChart(this).options,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      })), React.createElement(CardFooter, {\n        chart: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.stats,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return Dashboard;\n}(React.Component);\n\nDashboard.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(dashboardStyle)(Dashboard);","map":{"version":3,"sources":["/Users/Matt/flatiron/mod-5/BillsHub-Frontend/src/views/Dashboard/Dashboard.jsx"],"names":["React","PropTypes","ChartistGraph","withStyles","Icon","CardIcon","Warning","Update","AccessTime","BugReport","Code","Cloud","GridItem","GridContainer","Card","CardHeader","CardBody","CardFooter","GetMonthlyLabels","ThisMonth","returnSeries","GetMonthBillCostsAndLabels","GetYearBillCostsAndLabels","GetNextMonthBillCostsAndLabels","Timeline","chartsStyle","bugs","website","server","dashboardStyle","Chartist","require","delays","durations","delays2","durations2","yearlyPieChart","that","data","labels","props","userInfo","utilities","getYearlyBillLabels","series","getYearlyBillCosts","flat","options","height","labelOffset","chartPadding","donut","donutWidth","donutSolid","startAngle","monthlyPieChart","getMonthlyBillLabels","getMonthlyBillCosts","MonthlyBillChart","allBillsArray","style","lineSmooth","Interpolation","cardinal","tension","top","right","bottom","left","axisY","showGrid","offset","axisX","low","minValue","high","maxValue","showPoint","showArea","animation","draw","type","element","animate","d","begin","dur","from","path","clone","scale","translate","chartRect","stringify","to","easing","Svg","Easing","easeOutQuint","opacity","index","MonthlyBillBarChart","responsiveOptions","seriesBarDistance","labelInterpolationFnc","value","Dashboard","state","allBills","arr","max","Math","min","allUtilitiesArray","allUtilities","map","utility","bill","utility_type","cost","getTotalMonthlyOutgoings","totalCost","parseFloat","round","toFixed","getTotalNextMonthlyOutgoings","bills","handleChange","event","setState","handleChangeIndex","thisYear","date","Date","year","getFullYear","classes","cardTitle","stats","cardCategory","cardIconTitle","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n// react plugin for creating charts\nimport ChartistGraph from \"react-chartist\";\n// @material-ui/core\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Icon from \"@material-ui/core/Icon\";\nimport CardIcon from \"components/Card/CardIcon.jsx\";\n// @material-ui/icons\n// import Store from \"@material-ui/icons/Store\";\nimport Warning from \"@material-ui/icons/Warning\";\n// import DateRange from \"@material-ui/icons/DateRange\";\n// import LocalOffer from \"@material-ui/icons/LocalOffer\";\nimport Update from \"@material-ui/icons/Update\";\n// import ArrowUpward from \"@material-ui/icons/ArrowUpward\";\nimport AccessTime from \"@material-ui/icons/AccessTime\";\n// import Accessibility from \"@material-ui/icons/Accessibility\";\nimport BugReport from \"@material-ui/icons/BugReport\";\nimport Code from \"@material-ui/icons/Code\";\nimport Cloud from \"@material-ui/icons/Cloud\";\n// core components\nimport GridItem from \"components/Grid/GridItem.jsx\";\nimport GridContainer from \"components/Grid/GridContainer.jsx\";\n// import Danger from \"components/Typography/Danger.jsx\";\nimport Card from \"components/Card/Card.jsx\";\nimport CardHeader from \"components/Card/CardHeader.jsx\";\n// import CardIcon from \"components/Card/CardIcon.jsx\";\nimport CardBody from \"components/Card/CardBody.jsx\";\nimport CardFooter from \"components/Card/CardFooter.jsx\";\nimport {GetMonthlyLabels, ThisMonth} from '../../variables/Labels'\nimport { returnSeries, GetMonthBillCostsAndLabels, GetYearBillCostsAndLabels, GetNextMonthBillCostsAndLabels} from '../../variables/DateSort'\nimport Timeline from \"@material-ui/icons/Timeline\";\nimport chartsStyle from \"assets/jss/material-dashboard-pro-react/views/chartsStyle.jsx\";\nimport \"assets/css/material-dashboard-pro-react.css\";\n\nimport { bugs, website, server } from \"variables/general.jsx\";\nimport dashboardStyle from \"assets/jss/material-dashboard-pro-react/views/dashboardStyle.jsx\";\n\n\nvar Chartist = require(\"chartist\");\n\nvar delays = 80,\n  durations = 500;\n  var delays2 = 80,\n  durations2 = 500;\n\n  const yearlyPieChart = (that) => ({\n    data: {\n      labels: that.props.userInfo.utilities && that.getYearlyBillLabels(),\n      series: that.props.userInfo.utilities && that.getYearlyBillCosts().flat()\n    },\n    options: {\n      height: \"400px\",\n      labelOffset: 80,\n      chartPadding: 60,\n      donut: true,\n      donutWidth: 60,\n      donutSolid: false,\n      startAngle: 270,\n    }\n  });\n\n  const monthlyPieChart = (that) => ({\n    data: {\n      labels: that.props.userInfo.utilities && that.getMonthlyBillLabels(),\n      series: that.props.userInfo.utilities && that.getMonthlyBillCosts().flat()\n    },\n    options: {\n      height: \"400px\",\n      labelOffset: 80,\n      chartPadding: 60,\n      donut: true,\n      donutWidth: 60,\n      donutSolid: false,\n      startAngle: 270,\n    }\n  });\n\n\n\nconst MonthlyBillChart = (that) => ({\n  data: {\n    labels: GetMonthlyLabels(),\n    series: returnSeries(that.allBillsArray())\n  },\n  options: {\n    style: chartsStyle,\n    lineSmooth: Chartist.Interpolation.cardinal({\n      tension: 10,\n    }),\n    chartPadding: {\n      top: 0,\n      right: 0,\n      bottom: 20,\n      left: 0\n    },\n    axisY: {\n      showGrid: true,\n      offset: 40\n    },\n    axisX: {\n      showGrid: false\n    },\n    low: that.minValue(),\n    high: that.maxValue(),\n    showPoint: true,\n    showArea: true\n  },\n  // for animation\n  animation: {\n    draw: function(data) {\n      if (data.type === \"line\" || data.type === \"area\") {\n        data.element.animate({\n          d: {\n            begin: 600,\n            dur: 700,\n            from: data.path\n              .clone()\n              .scale(1, 0)\n              .translate(0, data.chartRect.height())\n              .stringify(),\n            to: data.path.clone().stringify(),\n            easing: Chartist.Svg.Easing.easeOutQuint\n          }\n        });\n      } else if (data.type === \"point\") {\n        data.element.animate({\n          opacity: {\n            begin: (data.index + 1) * delays,\n            dur: durations,\n            from: 0,\n            to: 1,\n            easing: \"ease\"\n          }\n        });\n      }\n    }\n  }\n});\n\nconst MonthlyBillBarChart = (that) => ({\n  data: {\n    labels: that.props.userInfo.utilities && that.getMonthlyBillLabels(),\n    series: that.props.userInfo.utilities && that.getMonthlyBillCosts()\n  },\n  options: {\n    // reverseData: true,\n\n    axisX: {\n      showGrid: false,\n      // offset: 70\n    },\n    chartPadding: {\n      top: 0,\n      right: 5,\n      bottom: 0,\n      left: 0\n    }\n  },\n  responsiveOptions: [\n    [\n      \"screen and (max-width: 640px)\",\n      {\n        seriesBarDistance: 5,\n        axisX: {\n          labelInterpolationFnc: function(value) {\n            return value[0];\n          }\n        }\n      }\n    ]\n  ],\n  animation: {\n    draw: function(data) {\n      if (data.type === \"bar\") {\n        data.element.animate({\n          opacity: {\n            begin: (data.index + 1) * delays2,\n            dur: durations2,\n            from: 0,\n            to: 1,\n            easing: \"ease\"\n          }\n        });\n      }\n    }\n  }\n\n});\n\n\n\n\n\nclass Dashboard extends React.Component {\n  state = {\n    value: 0,\n    allBills: {}\n  };\n\n  maxValue = () => {\n    let arr = returnSeries(this.allBillsArray()).flat()\n    let max = Math.max(...arr)\n    return (max+(max*0.2))\n  }\n    \n  minValue = () => {\n    let arr = returnSeries(this.allBillsArray()).flat()\n    let min = Math.min(...arr)\n    return (min-(min*0.5))\n  }\n\nallUtilitiesArray = () => {\n  let allUtilities = []\n    this.props.userInfo.utilities && this.props.userInfo.utilities.map(utility =>  allUtilities = [...allUtilities, utility])\n    return allUtilities\n}\n\ngetMonthlyBillLabels = () => {\n  return (GetMonthBillCostsAndLabels(this.allUtilitiesArray()).map(bill => bill.utility_type))\n}\n\ngetMonthlyBillCosts = () => {\n  return [(GetMonthBillCostsAndLabels(this.allUtilitiesArray()).map(bill => bill.cost))]\n}\n\ngetYearlyBillLabels = () => {\n  return (GetYearBillCostsAndLabels(this.allUtilitiesArray()).map(bill => bill.utility_type))\n}\n\n  getYearlyBillCosts = () => {\n    return [(GetYearBillCostsAndLabels(this.allUtilitiesArray()).map(bill => bill.cost))]\n  }\n\ngetTotalMonthlyOutgoings = () => {\n  let totalCost = 0\n  GetMonthBillCostsAndLabels(this.allUtilitiesArray()).map(bill => totalCost = totalCost + bill.cost)\n  return parseFloat(Math.round(totalCost * 100) / 100).toFixed(2)\n  }\n\n  getTotalNextMonthlyOutgoings = () => {\n    let totalCost = 0\n    GetNextMonthBillCostsAndLabels(this.allUtilitiesArray()).map(bill => totalCost = totalCost + bill.cost)\n    return parseFloat(Math.round(totalCost * 100) / 100).toFixed(2)\n  }\n\nallBillsArray = () => {\n    let allBills = []\n    this.props.userInfo.utilities && this.props.userInfo.utilities.map(utility => utility.bills.map(bill => {\n      return allBills = [...allBills, bill]\n    }))\n    return allBills\n  }\n\n  handleChange = (event, value) => {\n    this.setState({ value });\n  };\n\n  handleChangeIndex = index => {\n    this.setState({ value: index });\n  };\n\n  thisYear = () => {\n    var date = new Date()\n    let year = date.getFullYear()\n    return year\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div>\n        \n        <GridContainer>\n          <GridItem xs={12} sm={12} md={12}>\n            <Card chart>\n              <CardHeader color=\"success\">\n                <ChartistGraph\n                  className=\"ct-chart\"\n                  data={MonthlyBillChart(this).data}\n                  type=\"Line\"\n                  options={MonthlyBillChart(this).options}\n                  listener={MonthlyBillChart(this).animation}\n                />\n              </CardHeader>\n              <CardBody>\n                <h4 className={classes.cardTitle}>Yearly outgoings by month</h4>\n              </CardBody>\n              <CardFooter chart>\n                <div className={classes.stats}>\n                  \n                </div>\n              </CardFooter>\n            </Card>\n          </GridItem>\n        </GridContainer>  \n        <GridContainer>\n          \n         \n          <GridItem xs={12} sm={12} md={4} lg={4}>\n            <Card>\n              <CardHeader color=\"warning\" stats icon>\n                <CardIcon color=\"warning\">\n                  <Icon>date_range</Icon>\n                </CardIcon>\n                <p className={classes.cardCategory} >Your total monthly outgoings for {ThisMonth()}:</p>\n                <h3 className={classes.cardTitle}>\n                £{this.getTotalMonthlyOutgoings()}\n                </h3>\n              </CardHeader>\n              <CardFooter stats>\n                <div className={classes.stats}>\n                    <Warning />\n                  <p>\n                    Your predicted outgoings for next month is £{this.getTotalNextMonthlyOutgoings()}\n                  </p>\n                </div>\n              </CardFooter>\n            </Card>\n          </GridItem>\n          <GridItem xs={12} sm={12} md={8}>\n            <Card chart>\n              <CardHeader color=\"info\">\n                <ChartistGraph\n                  className=\"ct-chart\"\n                  data={MonthlyBillBarChart(this).data}\n                  type=\"Bar\"\n                  options={MonthlyBillBarChart(this).options}\n                  responsiveOptions={MonthlyBillBarChart(this).responsiveOptions}\n                  listener={MonthlyBillBarChart(this).animation}\n                />\n              </CardHeader>\n              <CardBody>\n                <h4 className={classes.cardTitle}>Total payments by utility type for {ThisMonth()}</h4>\n              </CardBody>\n              <CardFooter chart>\n                <div className={classes.stats}>\n                  <Update /> all values are in pounds(£)\n                </div>\n              </CardFooter>\n            </Card>\n          </GridItem>\n        </GridContainer>\n        <GridContainer>\n        <GridItem xs={12} sm={12} md={6}>\n            <Card>\n              <CardHeader color=\"danger\" icon>\n                <CardIcon color=\"danger\">\n                  <Timeline />\n                </CardIcon>\n                <h4 className={classes.cardIconTitle}>Distribution of payments for {ThisMonth()}:</h4>\n              </CardHeader>\n              <CardBody>\n                <ChartistGraph\n                  data={monthlyPieChart(this).data}\n                  type=\"Pie\"\n                  options={monthlyPieChart(this).options}\n                />\n              </CardBody>\n              <CardFooter chart>\n                <div className={classes.stats}>\n                  \n                </div>\n              </CardFooter>\n            </Card>\n          </GridItem>\n          <GridItem xs={12} sm={12} md={6}>\n            <Card>\n              <CardHeader color=\"danger\" icon>\n                <CardIcon color=\"danger\">\n                  <Timeline />\n                </CardIcon>\n                <h4 className={classes.cardIconTitle}>Distribution of payments for {this.thisYear()}:</h4>\n              </CardHeader>\n              <CardBody>\n                <ChartistGraph\n                  data={yearlyPieChart(this).data}\n                  type=\"Pie\"\n                  options={yearlyPieChart(this).options}\n                />\n              </CardBody>\n              <CardFooter chart>\n                <div className={classes.stats}>\n                  \n                </div>\n              </CardFooter>\n            </Card>\n          </GridItem>\n        </GridContainer>\n      </div>\n    );\n  }\n}\n\nDashboard.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(dashboardStyle)(Dashboard);\n"]},"metadata":{},"sourceType":"module"}