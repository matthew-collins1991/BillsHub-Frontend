{"ast":null,"code":"import _toConsumableArray from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n// import { GetBillLabels } from \"./Labels\";\nexport var getTimeToNextBill = function getTimeToNextBill(date) {\n  var one_day = 1000 * 60 * 60 * 24;\n  var date1 = new Date(date);\n  var date2 = new Date();\n  var diff = date1.getTime() - date2.getTime();\n  return Math.ceil(diff / one_day);\n};\nexport var sortDatesLowToHigh = function sortDatesLowToHigh(a, b) {\n  a = new Date(a.bill_date);\n  b = new Date(b.bill_date);\n  return a < b ? -1 : a > b ? 1 : 0;\n};\nexport var sortDatesHighToLow = function sortDatesHighToLow(a, b) {\n  a = new Date(a.bill_date);\n  b = new Date(b.bill_date);\n  return a > b ? -1 : a < b ? 1 : 0;\n};\nexport var returnSeries = function returnSeries(data) {\n  var values = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n  console.log(data);\n  data.map(function (bill) {\n    if (getTimeToNextBill(bill.bill_date) < 324) {\n      var billDate = new Date(bill.bill_date);\n      var billMonthInt = billDate.getMonth();\n\n      if (billMonthInt > 6) {\n        return values[billMonthInt - 12 + 6] = values[billMonthInt - 12 + 6] + bill.cost;\n      } else {\n        return values[billMonthInt + 6] = values[billMonthInt + 6] + bill.cost;\n      }\n    }\n  });\n  var series = values.map(function (value) {\n    if (value === 0) {\n      return null;\n    } else if (isNaN(value)) {\n      return null;\n    } else {\n      return value;\n    }\n  });\n  return [series];\n};\nexport var GetMonthBillCostsAndLabels = function GetMonthBillCostsAndLabels(utilities) {\n  var costArray = [];\n  var billArray = [];\n  var today = new Date();\n  var monthInt = today.getMonth();\n  var yearInt = today.getFullYear(); // only select utilities that have a bill in current month\n\n  var filteredUtilities = utilities.filter(function (utility) {\n    return utility.bills.map(function (bill) {\n      return new Date(bill.bill_date).getMonth();\n    }).includes(monthInt);\n  });\n  filteredUtilities.map(function (utility) {\n    return utility.bills.map(function (bill) {\n      if (new Date(bill.bill_date).getMonth() === monthInt && new Date(bill.bill_date).getFullYear() === yearInt) {\n        bill.utility_type = utility.utility_type;\n        billArray = [].concat(_toConsumableArray(billArray), [bill]);\n      }\n    });\n  }); // pull out the duplicate utility IDs and add together the cost\n\n  billArray.forEach(function (a) {\n    if (!this[a.utility_id]) {\n      this[a.utility_id] = {\n        utility_id: a.utility_id,\n        utility_type: a.utility_type,\n        cost: 0\n      };\n      costArray.push(this[a.utility_id]);\n    }\n\n    this[a.utility_id].cost += a.cost;\n  }, Object.create(null));\n  return costArray;\n};\nexport var GetYearBillCostsAndLabels = function GetYearBillCostsAndLabels(utilities) {\n  var costArray = [];\n  var billArray = [];\n  var today = new Date();\n  var yearInt = today.getYear(); // only select utilities that have a bill in current month\n\n  var filteredUtilities = utilities.filter(function (utility) {\n    return utility.bills.map(function (bill) {\n      return new Date(bill.bill_date).getYear();\n    }).includes(yearInt);\n  });\n  filteredUtilities.map(function (utility) {\n    return utility.bills.map(function (bill) {\n      if (new Date(bill.bill_date).getYear() === yearInt) {\n        bill.utility_type = utility.utility_type;\n        billArray = [].concat(_toConsumableArray(billArray), [bill]);\n      }\n    });\n  }); // pull out the duplicate utility IDs and add together the cost\n\n  billArray.forEach(function (a) {\n    if (!this[a.utility_id]) {\n      this[a.utility_id] = {\n        utility_id: a.utility_id,\n        utility_type: a.utility_type,\n        cost: 0\n      };\n      costArray.push(this[a.utility_id]);\n    }\n\n    console.log(a.cost, 'pre');\n    console.log(this[a.utility_id].cost, 'post');\n    this[a.utility_id].cost = this[a.utility_id].cost + parseInt(a.cost);\n  }, Object.create(null));\n  return costArray;\n};\nexport var GetNextMonthBillCostsAndLabels = function GetNextMonthBillCostsAndLabels(utilities) {\n  var costArray = [];\n  var billArray = [];\n  var today = new Date();\n  var monthInt = today.getMonth() + 1;\n  var yearInt = today.getFullYear(); // only select utilities that have a bill in current month\n\n  var filteredUtilities = utilities.filter(function (utility) {\n    return utility.bills.map(function (bill) {\n      return new Date(bill.bill_date).getMonth();\n    }).includes(monthInt);\n  });\n  filteredUtilities.map(function (utility) {\n    return utility.bills.map(function (bill) {\n      if (new Date(bill.bill_date).getMonth() === monthInt && new Date(bill.bill_date).getFullYear() === yearInt) {\n        bill.utility_type = utility.utility_type;\n        billArray = [].concat(_toConsumableArray(billArray), [bill]);\n      }\n    });\n  }); // pull out the duplicate utility IDs and add together the cost\n\n  billArray.forEach(function (a) {\n    if (!this[a.utility_id]) {\n      this[a.utility_id] = {\n        utility_id: a.utility_id,\n        utility_type: a.utility_type,\n        cost: 0\n      };\n      costArray.push(this[a.utility_id]);\n    }\n\n    this[a.utility_id].cost += a.cost;\n  }, Object.create(null));\n  return costArray;\n};","map":{"version":3,"sources":["/Users/Matt/flatiron/mod-5/BillsHub-Frontend/src/variables/DateSort.jsx"],"names":["getTimeToNextBill","date","one_day","date1","Date","date2","diff","getTime","Math","ceil","sortDatesLowToHigh","a","b","bill_date","sortDatesHighToLow","returnSeries","data","values","console","log","map","bill","billDate","billMonthInt","getMonth","cost","series","value","isNaN","GetMonthBillCostsAndLabels","utilities","costArray","billArray","today","monthInt","yearInt","getFullYear","filteredUtilities","filter","utility","bills","includes","utility_type","forEach","utility_id","push","Object","create","GetYearBillCostsAndLabels","getYear","parseInt","GetNextMonthBillCostsAndLabels"],"mappings":";AAAA;AAEA,OAAO,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,IAAD,EAAU;AACvC,MAAIC,OAAO,GAAC,OAAK,EAAL,GAAQ,EAAR,GAAW,EAAvB;AACA,MAAIC,KAAK,GAAG,IAAIC,IAAJ,CAASH,IAAT,CAAZ;AACA,MAAII,KAAK,GAAG,IAAID,IAAJ,EAAZ;AACA,MAAIE,IAAI,GAAGH,KAAK,CAACI,OAAN,KAAkBF,KAAK,CAACE,OAAN,EAA7B;AAEA,SAAOC,IAAI,CAACC,IAAL,CAAUH,IAAI,GAACJ,OAAf,CAAP;AACC,CAPE;AAUP,OAAO,IAAMQ,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,CAAD,EAAIC,CAAJ,EAAU;AACxCD,EAAAA,CAAC,GAAG,IAAIP,IAAJ,CAASO,CAAC,CAACE,SAAX,CAAJ;AACAD,EAAAA,CAAC,GAAG,IAAIR,IAAJ,CAASQ,CAAC,CAACC,SAAX,CAAJ;AACA,SAAOF,CAAC,GAAGC,CAAJ,GAAQ,CAAC,CAAT,GAAaD,CAAC,GAAGC,CAAJ,GAAQ,CAAR,GAAY,CAAhC;AACA,CAJG;AAMP,OAAO,IAAME,kBAAkB,GAAG,SAArBA,kBAAqB,CAACH,CAAD,EAAIC,CAAJ,EAAU;AACxCD,EAAAA,CAAC,GAAG,IAAIP,IAAJ,CAASO,CAAC,CAACE,SAAX,CAAJ;AACAD,EAAAA,CAAC,GAAG,IAAIR,IAAJ,CAASQ,CAAC,CAACC,SAAX,CAAJ;AACA,SAAOF,CAAC,GAAGC,CAAJ,GAAQ,CAAC,CAAT,GAAaD,CAAC,GAAGC,CAAJ,GAAQ,CAAR,GAAY,CAAhC;AACA,CAJG;AAMP,OAAO,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAU;AAClC,MAAIC,MAAM,GAAG,CACV,CADU,EACR,CADQ,EACN,CADM,EACJ,CADI,EACF,CADE,EACA,CADA,EACE,CADF,EACI,CADJ,EACM,CADN,EACQ,CADR,EACU,CADV,EACY,CADZ,CAAb;AAGAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAA,EAAAA,IAAI,CAACI,GAAL,CAAS,UAAAC,IAAI,EAAI;AACb,QAAIrB,iBAAiB,CAACqB,IAAI,CAACR,SAAN,CAAjB,GAAkC,GAAtC,EAA0C;AACtC,UAAIS,QAAQ,GAAG,IAAIlB,IAAJ,CAASiB,IAAI,CAACR,SAAd,CAAf;AACA,UAAIU,YAAY,GAAGD,QAAQ,CAACE,QAAT,EAAnB;;AACA,UAAID,YAAY,GAAG,CAAnB,EAAsB;AACjB,eAAON,MAAM,CAACM,YAAY,GAAC,EAAb,GAAgB,CAAjB,CAAN,GAA4BN,MAAM,CAACM,YAAY,GAAC,EAAb,GAAgB,CAAjB,CAAN,GAA4BF,IAAI,CAACI,IAApE;AACA,OAFL,MAES;AACL,eAAOR,MAAM,CAACM,YAAY,GAAC,CAAd,CAAN,GAAyBN,MAAM,CAACM,YAAY,GAAC,CAAd,CAAN,GAAyBF,IAAI,CAACI,IAA9D;AACC;AACR;AACJ,GAVD;AAWA,MAAIC,MAAM,GAAGT,MAAM,CAACG,GAAP,CAAW,UAAAO,KAAK,EAAI;AAAC,QAAGA,KAAK,KAAK,CAAb,EAAgB;AAC9C,aAAO,IAAP;AACH,KAFiC,MAE5B,IAAGC,KAAK,CAACD,KAAD,CAAR,EAAiB;AACnB,aAAO,IAAP;AACH,KAFK,MAED;AACD,aAAOA,KAAP;AAEH;AAAC,GAPW,CAAb;AASA,SAAO,CAACD,MAAD,CAAP;AACH,CA1BM;AA4BP,OAAO,IAAMG,0BAA0B,GAAG,SAA7BA,0BAA6B,CAACC,SAAD,EAAe;AACrD,MAAIC,SAAS,GAAG,EAAhB;AACA,MAAIC,SAAS,GAAG,EAAhB;AACA,MAAIC,KAAK,GAAG,IAAI7B,IAAJ,EAAZ;AACA,MAAI8B,QAAQ,GAAGD,KAAK,CAACT,QAAN,EAAf;AACA,MAAIW,OAAO,GAAGF,KAAK,CAACG,WAAN,EAAd,CALqD,CAOrD;;AACA,MAAIC,iBAAiB,GAAGP,SAAS,CAACQ,MAAV,CAAiB,UAAAC,OAAO;AAAA,WAAIA,OAAO,CAACC,KAAR,CAAcpB,GAAd,CAAkB,UAAAC,IAAI;AAAA,aAAI,IAAIjB,IAAJ,CAASiB,IAAI,CAACR,SAAd,EAAyBW,QAAzB,EAAJ;AAAA,KAAtB,EAA+DiB,QAA/D,CAAwEP,QAAxE,CAAJ;AAAA,GAAxB,CAAxB;AACAG,EAAAA,iBAAiB,CAACjB,GAAlB,CAAsB,UAAAmB,OAAO;AAAA,WAAIA,OAAO,CAACC,KAAR,CAAcpB,GAAd,CAAkB,UAAAC,IAAI,EAAI;AACvD,UAAG,IAAIjB,IAAJ,CAASiB,IAAI,CAACR,SAAd,EAAyBW,QAAzB,OAAwCU,QAAxC,IAAoD,IAAI9B,IAAJ,CAASiB,IAAI,CAACR,SAAd,EAAyBuB,WAAzB,OAA2CD,OAAlG,EAA2G;AACvGd,QAAAA,IAAI,CAACqB,YAAL,GAAoBH,OAAO,CAACG,YAA5B;AACAV,QAAAA,SAAS,gCAAOA,SAAP,IAAkBX,IAAlB,EAAT;AACH;AACJ,KALgC,CAAJ;AAAA,GAA7B,EATqD,CAgBrD;;AACFW,EAAAA,SAAS,CAACW,OAAV,CAAkB,UAAUhC,CAAV,EAAa;AAC/B,QAAI,CAAC,KAAKA,CAAC,CAACiC,UAAP,CAAL,EAAyB;AACrB,WAAKjC,CAAC,CAACiC,UAAP,IAAqB;AAAEA,QAAAA,UAAU,EAAEjC,CAAC,CAACiC,UAAhB;AAA4BF,QAAAA,YAAY,EAAE/B,CAAC,CAAC+B,YAA5C;AAA0DjB,QAAAA,IAAI,EAAE;AAAhE,OAArB;AACAM,MAAAA,SAAS,CAACc,IAAV,CAAe,KAAKlC,CAAC,CAACiC,UAAP,CAAf;AACH;;AACD,SAAKjC,CAAC,CAACiC,UAAP,EAAmBnB,IAAnB,IAA2Bd,CAAC,CAACc,IAA7B;AACD,GANC,EAMCqB,MAAM,CAACC,MAAP,CAAc,IAAd,CAND;AAOE,SAAOhB,SAAP;AACH,CAzBM;AA2BP,OAAO,IAAMiB,yBAAyB,GAAG,SAA5BA,yBAA4B,CAAClB,SAAD,EAAe;AACpD,MAAIC,SAAS,GAAG,EAAhB;AACA,MAAIC,SAAS,GAAG,EAAhB;AACA,MAAIC,KAAK,GAAG,IAAI7B,IAAJ,EAAZ;AACA,MAAI+B,OAAO,GAAGF,KAAK,CAACgB,OAAN,EAAd,CAJoD,CAMpD;;AACA,MAAIZ,iBAAiB,GAAGP,SAAS,CAACQ,MAAV,CAAiB,UAAAC,OAAO;AAAA,WAAIA,OAAO,CAACC,KAAR,CAAcpB,GAAd,CAAkB,UAAAC,IAAI;AAAA,aAAI,IAAIjB,IAAJ,CAASiB,IAAI,CAACR,SAAd,EAAyBoC,OAAzB,EAAJ;AAAA,KAAtB,EAA8DR,QAA9D,CAAuEN,OAAvE,CAAJ;AAAA,GAAxB,CAAxB;AACAE,EAAAA,iBAAiB,CAACjB,GAAlB,CAAsB,UAAAmB,OAAO;AAAA,WAAIA,OAAO,CAACC,KAAR,CAAcpB,GAAd,CAAkB,UAAAC,IAAI,EAAI;AACvD,UAAG,IAAIjB,IAAJ,CAASiB,IAAI,CAACR,SAAd,EAAyBoC,OAAzB,OAAuCd,OAA1C,EAAmD;AAC/Cd,QAAAA,IAAI,CAACqB,YAAL,GAAoBH,OAAO,CAACG,YAA5B;AACAV,QAAAA,SAAS,gCAAOA,SAAP,IAAkBX,IAAlB,EAAT;AACH;AACJ,KALgC,CAAJ;AAAA,GAA7B,EARoD,CAepD;;AACFW,EAAAA,SAAS,CAACW,OAAV,CAAkB,UAAUhC,CAAV,EAAa;AAC/B,QAAI,CAAC,KAAKA,CAAC,CAACiC,UAAP,CAAL,EAAyB;AACrB,WAAKjC,CAAC,CAACiC,UAAP,IAAqB;AAAEA,QAAAA,UAAU,EAAEjC,CAAC,CAACiC,UAAhB;AAA4BF,QAAAA,YAAY,EAAE/B,CAAC,CAAC+B,YAA5C;AAA0DjB,QAAAA,IAAI,EAAE;AAAhE,OAArB;AAEAM,MAAAA,SAAS,CAACc,IAAV,CAAe,KAAKlC,CAAC,CAACiC,UAAP,CAAf;AAEH;;AACD1B,IAAAA,OAAO,CAACC,GAAR,CAAYR,CAAC,CAACc,IAAd,EAAoB,KAApB;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,CAAC,CAACiC,UAAP,EAAmBnB,IAA/B,EAAqC,MAArC;AACA,SAAKd,CAAC,CAACiC,UAAP,EAAmBnB,IAAnB,GAA0B,KAAKd,CAAC,CAACiC,UAAP,EAAmBnB,IAAnB,GAA0ByB,QAAQ,CAACvC,CAAC,CAACc,IAAH,CAA5D;AACD,GAVC,EAUCqB,MAAM,CAACC,MAAP,CAAc,IAAd,CAVD;AAWC,SAAOhB,SAAP;AAEF,CA7BM;AAgCP,OAAO,IAAMoB,8BAA8B,GAAG,SAAjCA,8BAAiC,CAACrB,SAAD,EAAe;AACzD,MAAIC,SAAS,GAAG,EAAhB;AACA,MAAIC,SAAS,GAAG,EAAhB;AACA,MAAIC,KAAK,GAAG,IAAI7B,IAAJ,EAAZ;AACA,MAAI8B,QAAQ,GAAGD,KAAK,CAACT,QAAN,KAAiB,CAAhC;AACA,MAAIW,OAAO,GAAGF,KAAK,CAACG,WAAN,EAAd,CALyD,CAOzD;;AACA,MAAIC,iBAAiB,GAAGP,SAAS,CAACQ,MAAV,CAAiB,UAAAC,OAAO;AAAA,WAAIA,OAAO,CAACC,KAAR,CAAcpB,GAAd,CAAkB,UAAAC,IAAI;AAAA,aAAI,IAAIjB,IAAJ,CAASiB,IAAI,CAACR,SAAd,EAAyBW,QAAzB,EAAJ;AAAA,KAAtB,EAA+DiB,QAA/D,CAAwEP,QAAxE,CAAJ;AAAA,GAAxB,CAAxB;AACAG,EAAAA,iBAAiB,CAACjB,GAAlB,CAAsB,UAAAmB,OAAO;AAAA,WAAIA,OAAO,CAACC,KAAR,CAAcpB,GAAd,CAAkB,UAAAC,IAAI,EAAI;AACvD,UAAG,IAAIjB,IAAJ,CAASiB,IAAI,CAACR,SAAd,EAAyBW,QAAzB,OAAwCU,QAAxC,IAAoD,IAAI9B,IAAJ,CAASiB,IAAI,CAACR,SAAd,EAAyBuB,WAAzB,OAA2CD,OAAlG,EAA2G;AACvGd,QAAAA,IAAI,CAACqB,YAAL,GAAoBH,OAAO,CAACG,YAA5B;AACAV,QAAAA,SAAS,gCAAOA,SAAP,IAAkBX,IAAlB,EAAT;AACH;AACJ,KALgC,CAAJ;AAAA,GAA7B,EATyD,CAgBzD;;AACFW,EAAAA,SAAS,CAACW,OAAV,CAAkB,UAAUhC,CAAV,EAAa;AAC/B,QAAI,CAAC,KAAKA,CAAC,CAACiC,UAAP,CAAL,EAAyB;AACrB,WAAKjC,CAAC,CAACiC,UAAP,IAAqB;AAAEA,QAAAA,UAAU,EAAEjC,CAAC,CAACiC,UAAhB;AAA4BF,QAAAA,YAAY,EAAE/B,CAAC,CAAC+B,YAA5C;AAA0DjB,QAAAA,IAAI,EAAE;AAAhE,OAArB;AACAM,MAAAA,SAAS,CAACc,IAAV,CAAe,KAAKlC,CAAC,CAACiC,UAAP,CAAf;AACH;;AACD,SAAKjC,CAAC,CAACiC,UAAP,EAAmBnB,IAAnB,IAA2Bd,CAAC,CAACc,IAA7B;AACD,GANC,EAMCqB,MAAM,CAACC,MAAP,CAAc,IAAd,CAND;AAQE,SAAOhB,SAAP;AACH,CA1BM","sourcesContent":["// import { GetBillLabels } from \"./Labels\";\n\nexport const getTimeToNextBill = (date) => {\n    let one_day=1000*60*60*24\n    let date1 = new Date(date)\n    let date2 = new Date()\n    let diff = date1.getTime() - date2.getTime()\n\n    return Math.ceil(diff/one_day)\n    }\n\n\nexport const sortDatesLowToHigh = (a, b) => {\n    a = new Date(a.bill_date)\n    b = new Date(b.bill_date)\n    return a < b ? -1 : a > b ? 1 : 0\n   }\n\nexport const sortDatesHighToLow = (a, b) => {\n    a = new Date(a.bill_date)\n    b = new Date(b.bill_date)\n    return a > b ? -1 : a < b ? 1 : 0\n   }\n\nexport const returnSeries = (data) => {\n    let values = [\n       0,0,0,0,0,0,0,0,0,0,0,0\n    ]\n    console.log(data)\n    data.map(bill => {\n        if (getTimeToNextBill(bill.bill_date)<324){\n            let billDate = new Date(bill.bill_date)\n            let billMonthInt = billDate.getMonth()\n            if (billMonthInt > 6) {\n                 return values[billMonthInt-12+6] = values[billMonthInt-12+6] + bill.cost\n                }else{\n                return values[billMonthInt+6] = values[billMonthInt+6] + bill.cost\n                }\n        }\n    })\n    let series = values.map(value => {if(value === 0 ){\n        return null\n    }else if(isNaN(value)) {\n        return null\n    }else{\n        return value\n    \n    }})\n    \n    return [series]\n}\n\nexport const GetMonthBillCostsAndLabels = (utilities) => {\n    let costArray = []\n    let billArray = []\n    let today = new Date()\n    let monthInt = today.getMonth()\n    let yearInt = today.getFullYear()\n\n    // only select utilities that have a bill in current month\n    let filteredUtilities = utilities.filter(utility => utility.bills.map(bill => new Date(bill.bill_date).getMonth()).includes(monthInt))\n    filteredUtilities.map(utility => utility.bills.map(bill => {\n        if(new Date(bill.bill_date).getMonth() === monthInt && new Date(bill.bill_date).getFullYear() === yearInt) {\n            bill.utility_type = utility.utility_type\n            billArray = [...billArray, bill]\n        } \n    }))\n\n    // pull out the duplicate utility IDs and add together the cost\n  billArray.forEach(function (a) {\n  if (!this[a.utility_id]) {\n      this[a.utility_id] = { utility_id: a.utility_id, utility_type: a.utility_type, cost: 0 };\n      costArray.push(this[a.utility_id]);\n  }\n  this[a.utility_id].cost += a.cost;\n}, Object.create(null));\n    return costArray\n}\n\nexport const GetYearBillCostsAndLabels = (utilities) => {\n    let costArray = []\n    let billArray = []\n    let today = new Date()\n    let yearInt = today.getYear()\n\n    // only select utilities that have a bill in current month\n    let filteredUtilities = utilities.filter(utility => utility.bills.map(bill => new Date(bill.bill_date).getYear()).includes(yearInt))\n    filteredUtilities.map(utility => utility.bills.map(bill => {\n        if(new Date(bill.bill_date).getYear() === yearInt) {\n            bill.utility_type = utility.utility_type\n            billArray = [...billArray, bill]\n        } \n    }))\n\n    // pull out the duplicate utility IDs and add together the cost\n  billArray.forEach(function (a) {\n  if (!this[a.utility_id]) {\n      this[a.utility_id] = { utility_id: a.utility_id, utility_type: a.utility_type, cost: 0 };\n\n      costArray.push(this[a.utility_id]);\n\n  }\n  console.log(a.cost, 'pre')\n  console.log(this[a.utility_id].cost, 'post')\n  this[a.utility_id].cost = this[a.utility_id].cost + parseInt(a.cost);\n}, Object.create(null));\n   return costArray\n    \n}\n\n\nexport const GetNextMonthBillCostsAndLabels = (utilities) => {\n    let costArray = []\n    let billArray = []\n    let today = new Date()\n    let monthInt = today.getMonth()+1\n    let yearInt = today.getFullYear()\n\n    // only select utilities that have a bill in current month\n    let filteredUtilities = utilities.filter(utility => utility.bills.map(bill => new Date(bill.bill_date).getMonth()).includes(monthInt))\n    filteredUtilities.map(utility => utility.bills.map(bill => {\n        if(new Date(bill.bill_date).getMonth() === monthInt && new Date(bill.bill_date).getFullYear() === yearInt) {\n            bill.utility_type = utility.utility_type\n            billArray = [...billArray, bill]\n        } \n    }))\n\n    // pull out the duplicate utility IDs and add together the cost\n  billArray.forEach(function (a) {\n  if (!this[a.utility_id]) {\n      this[a.utility_id] = { utility_id: a.utility_id, utility_type: a.utility_type, cost: 0 };\n      costArray.push(this[a.utility_id]);\n  }\n  this[a.utility_id].cost += a.cost;\n}, Object.create(null));\n\n    return costArray\n}\n"]},"metadata":{},"sourceType":"module"}