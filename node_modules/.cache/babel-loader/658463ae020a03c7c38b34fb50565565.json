{"ast":null,"code":"import _classCallCheck from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Matt/flatiron/mod-5/BillsHub-Frontend/src/views/Utilities/Utilities.jsx\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\"; // @material-ui/core components\n\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport AccessTime from \"@material-ui/icons/AccessTime\";\nimport Icon from \"@material-ui/core/Icon\";\nimport CardIcon from \"components/Card/CardIcon.jsx\"; // core components\n\nimport GridItem from \"components/Grid/GridItem.jsx\";\nimport GridContainer from \"components/Grid/GridContainer.jsx\";\nimport Card from \"components/Card/Card.jsx\";\nimport CardHeader from \"components/Card/CardHeader.jsx\";\nimport CardFooter from \"components/Card/CardFooter.jsx\";\nimport CardBody from \"components/Card/CardBody.jsx\";\nimport iconsStyle from \"assets/jss/material-dashboard-pro-react/views/iconsStyle.jsx\";\nimport { Link } from 'react-router-dom'; // import API from \"../../adapters/API\";\n\nimport { logoImageStyle, logoStyle } from \"./UtilitiesStrings.js\";\nimport { sortDatesHighToLow } from '../../variables/DateSort';\n\nvar Utilities =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Utilities, _React$Component);\n\n  function Utilities() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Utilities);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Utilities)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.findCompany = function (utility) {\n      var company = _this.props.companyData.find(function (company) {\n        return company.id === utility.company_id;\n      });\n\n      return company;\n    };\n\n    _this.getNextBillDate = function (bills) {\n      var date = bills[0].bill_date;\n      return _this.formatDate(date);\n    };\n\n    return _this;\n  }\n\n  _createClass(Utilities, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      var userInfo = this.props.userInfo;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(GridContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(GridItem, {\n        xs: 12,\n        sm: 6,\n        md: 6,\n        lg: 4,\n        style: {\n          alignSelf: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/admin/utilities/new\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Card, {\n        style: {\n          width: 50 + '%',\n          marginLeft: 25 + '%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        color: \"success\",\n        stats: true,\n        icon: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(CardIcon, {\n        color: \"success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"add_circle_outline\"))), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: classes.cardTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Create New\"), React.createElement(\"p\", {\n        className: classes.cardCategory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: classes.successText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), \" \")), React.createElement(CardFooter, {\n        chart: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.stats,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }))))), userInfo.utilities && userInfo.utilities.map(function (utility) {\n        return React.createElement(React.Fragment, null, React.createElement(GridItem, {\n          xs: 12,\n          sm: 6,\n          md: 6,\n          lg: 4,\n          onClick: function onClick() {\n            return _this2.props.handleUtilityClick(utility);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/admin/utilities/show\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(Card, {\n          chart: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(CardHeader, {\n          color: \"info\",\n          style: {\n            background: \"white\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"fileinput text-center\",\n          style: logoStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"thumbnail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: _this2.findCompany(utility).logo,\n          alt: \"...\",\n          style: logoImageStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        })))), React.createElement(CardBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          className: classes.cardTitle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, utility.utility_type), React.createElement(\"p\", {\n          className: classes.cardCategory,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: classes.successText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, \"Your upcoming bill is \\xA3\", utility.bills.slice(-1)[0].cost), \" \"), \" utility.bills.sort(sortDatesHighToLow).silce(-1)[0]\"), React.createElement(CardFooter, {\n          chart: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: classes.stats,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(AccessTime, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }), \" updated 4 minutes ago\"))))));\n      })));\n    }\n  }]);\n\n  return Utilities;\n}(React.Component);\n\nUtilities.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(iconsStyle)(Utilities);","map":{"version":3,"sources":["/Users/Matt/flatiron/mod-5/BillsHub-Frontend/src/views/Utilities/Utilities.jsx"],"names":["React","PropTypes","withStyles","AccessTime","Icon","CardIcon","GridItem","GridContainer","Card","CardHeader","CardFooter","CardBody","iconsStyle","Link","logoImageStyle","logoStyle","sortDatesHighToLow","Utilities","findCompany","utility","company","props","companyData","find","id","company_id","getNextBillDate","bills","date","bill_date","formatDate","classes","userInfo","alignSelf","width","marginLeft","cardTitle","cardCategory","successText","stats","utilities","map","handleUtilityClick","background","logo","utility_type","slice","cost","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport AccessTime from \"@material-ui/icons/AccessTime\";\nimport Icon from \"@material-ui/core/Icon\";\nimport CardIcon from \"components/Card/CardIcon.jsx\";\n// core components\nimport GridItem from \"components/Grid/GridItem.jsx\";\nimport GridContainer from \"components/Grid/GridContainer.jsx\";\nimport Card from \"components/Card/Card.jsx\";\nimport CardHeader from \"components/Card/CardHeader.jsx\";\nimport CardFooter from \"components/Card/CardFooter.jsx\";\nimport CardBody from \"components/Card/CardBody.jsx\";\nimport iconsStyle from \"assets/jss/material-dashboard-pro-react/views/iconsStyle.jsx\";\nimport { Link } from 'react-router-dom'\n// import API from \"../../adapters/API\";\nimport {\n  logoImageStyle,\n  logoStyle\n} from \"./UtilitiesStrings.js\";\nimport {sortDatesHighToLow} from '../../variables/DateSort'\n\n\n\nclass Utilities extends React.Component{\n\n \n\nfindCompany = (utility) => {\n  let company = this.props.companyData.find(company => company.id === utility.company_id)\n  return company\n}\n\ngetNextBillDate = (bills) => {\n  let date = bills[0].bill_date\n  return this.formatDate(date)\n} \n\nrender() {\n  const { classes } = this.props;\n  const { userInfo } = this.props;\n\n\n \n  return (\n   \n   <div>\n     <GridContainer>\n\n     <GridItem xs={12} sm={6} md={6} lg={4} style={{alignSelf: 'center'}}>\n\n     <Link to=\"/admin/utilities/new\" >\n            <Card style={{width: 50+'%', marginLeft: 25 + '%'}} >\n            <CardHeader color=\"success\" stats icon>\n                <CardIcon color=\"success\">\n                  <Icon>add_circle_outline</Icon>\n                </CardIcon>\n                </CardHeader>\n                <CardBody>\n                <h4 className={classes.cardTitle}>Create New</h4>\n                <p className={classes.cardCategory}>\n                  <span className={classes.successText}>\n                    \n                  </span>{\" \"}\n                </p>\n              </CardBody>\n              <CardFooter chart>\n                <div className={classes.stats}>\n                  \n                </div>\n              </CardFooter>\n            </Card>\n            </Link >\n            \n          </GridItem>\n      {userInfo.utilities && userInfo.utilities.map(utility => \n        <>\n          <GridItem xs={12} sm={6} md={6} lg={4} onClick={()=>this.props.handleUtilityClick(utility)}>\n          <Link to=\"/admin/utilities/show\" >\n            <Card chart>\n              <CardHeader color=\"info\" style={{background: \"white\"}}>\n                <div className=\"fileinput text-center\" style={logoStyle}>\n                      <div className=\"thumbnail\">\n                        <img\n                          src={this.findCompany(utility).logo}\n                          alt=\"...\"\n                          style={logoImageStyle}\n                        />\n                      </div>\n                    </div>\n              </CardHeader>\n              <CardBody >\n                <h4 className={classes.cardTitle}>{utility.utility_type}</h4>\n                <p className={classes.cardCategory}>\n                  <span className={classes.successText}>\n                    Your upcoming bill is £{utility.bills.slice(-1)[0].cost}\n                  </span>{\" \"}\n                </p> utility.bills.sort(sortDatesHighToLow).silce(-1)[0]\n              </CardBody>\n              <CardFooter chart>\n                <div className={classes.stats}>\n                  <AccessTime /> updated 4 minutes ago\n                </div>\n              </CardFooter>\n            </Card>\n            </Link>\n          </GridItem>\n          \n          \n          </>\n         )}\n    </GridContainer>\n    \n  </div>\n      )\n}\n\n}\n\nUtilities.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(iconsStyle)(Utilities);\n"]},"metadata":{},"sourceType":"module"}